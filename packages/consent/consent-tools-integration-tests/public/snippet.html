<!DOCTYPE html>
<html lang="en">

<head>
  <script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" type="text/javascript" charset="UTF-8"
    data-domain-script="80ca7b5c-e72f-4bd0-972a-b74d052a0820-test"></script>
  <script type="text/javascript">
    window.isOneTrustLoaded = new Promise(resolve => {
      window.OptanonWrapper = function () {
        resolve()
        window.OneTrust.OnConsentChanged((e) => console.log('consent changed', e.detail));
      }
    })
  </script>
  <script>
    !(function () {
      var analytics = (window.analytics = window.analytics || [])
      if (!analytics.initialize)
        if (analytics.invoked)
          window.console &&
            console.error &&
            console.error('Segment snippet included twice.')
        else {
          analytics.invoked = !0
          analytics.methods = [
            'trackSubmit',
            'trackClick',
            'trackLink',
            'trackForm',
            'pageview',
            'identify',
            'reset',
            'group',
            'track',
            'ready',
            'alias',
            'debug',
            'page',
            'once',
            'off',
            'on',
            'addSourceMiddleware',
            'addIntegrationMiddleware',
            'setAnonymousId',
            'addDestinationMiddleware',
          ]
          analytics.factory = function (e) {
            return function () {
              var t = Array.prototype.slice.call(arguments)
              t.unshift(e)
              analytics.push(t)
              return analytics
            }
          }
          for (var e = 0; e < analytics.methods.length; e++) {
            var key = analytics.methods[e]
            analytics[key] = analytics.factory(key)
          }
          analytics.load = function (key, e) {
            var t = document.createElement('script')
            t.type = 'text/javascript'
            t.async = !0
            t.src =
              'https://cdn.segment.com/analytics.js/v1/' + key + '/analytics.min.js'
            var n = document.getElementsByTagName('script')[0]
            n.parentNode.insertBefore(t, n)
            analytics._loadOptions = e
          }
          analytics._writeKey = '9lSrez3BlfLAJ7NOChrqWtILiATiycoc'
          analytics.SNIPPET_VERSION = '4.15.3'
          // Notice, load has been deleted
          analytics.page()
        }
    })()

  </script>

  <script src="dist/snippet.bundle.js"></script>
</head>

<body>
  <h1>Hello World - Serving Analytics (from snippet)</h1>
  <h2>Please open devtools</h2>
  <p>Note: analytics.load() has been deleted from the snippet, since that initialization will be handled only by the consent wrapper.</p>
  <p>This page can used as playground or run by webdriver.io</p>
  
</body>

</html>
